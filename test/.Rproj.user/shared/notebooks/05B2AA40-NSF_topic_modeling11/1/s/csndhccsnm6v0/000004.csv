"0","#Change the column name form the ""rn"" defaculty to ""FundingRank"""
"0","colnames(nsf_funding_save)[1] <- ""FundingRank"""
"0","# Change class of nsf_funding_save$id to charcater(from integer)"
"0","nsf_funding_save$id <- as.character(nsf_funding_save$id)"
"0","lda_gamma2 <- dplyr::left_join(lda_gamma, nsf_funding_save, "
"0","              select(FundingRank), by = c(""document"" = ""id"")) "
"0","# convert FundingRank to a number"
"0","lda_gamma2$FundingRank = as.numeric(lda_gamma2$FundingRank)#[lda_gamma2]"
"0","# convert Topic to a character"
"0",""
"0","# Sort the topics by the amont of monney they braught in. Sum of document Gamma = 1"
"0","# The funding associated with each topic is the "
"0","# sum of all (gamma*funding amount for each grant)"
"0","lda_gamma2 <- lda_gamma2 %>% mutate(worth = gamma * amount)"
"0","# calculate the sum of the worth for each topic"
"0","topic_worth <- aggregate(lda_gamma2$worth, by=list(topic = lda_gamma2$topic), FUN = ""sum"")"
"0","#topic_worth <- aggregate(lda_gamma2$worth, by=list(topic = as.character(lda_gamma2$topic)), FUN = ""sum"")"
"0","colnames(topic_worth)[2] <- ""WorthSum"""
"0","# sort by most worthy of topic"
"0","topic_worth <- topic_worth %>% arrange(desc(WorthSum))"
"0","# save topic_worth as CVS"
"0",""
"0","setDT(topic_worth, keep.rownames = ""TopicWorthRank"")[]"
